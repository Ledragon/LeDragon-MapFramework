<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    
    <head>
        <title>Framework test</title>
        <link href="./bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
        <link href="./src/content/LeDragon-Framework.css" rel="stylesheet" />
        
        <body>
            <div class="container">
                <div class="jumbotron">
                    <h1>Map</h1>
                </div>
                <div id="test" style="width:800px;height:600px"></div>
            </div>
            <script src="./bower_components/d3/d3.min.js"></script>
            <script src="./bower_components/topojson/topojson.js"></script>
            <script src="./bower_components/q/q.js"></script>
            <script src="./dist/framework.js"></script>
            <script>
                var logger = new LeDragon.Framework.Utilities.logger(console);
                try {
                    var map = new LeDragon.Framework.Map.map('#test', logger, d3);
                    var reader = new LeDragon.Framework.Map.Services.countriesReaderService(logger, d3);
                    reader.getEurope110m()
                    .then(function(countries){
                         map.drawCountries(countries);
                        map.addPosition(5, 50);
                        map.addPosition(-112, 37, 'red');
                    })
                    .catch(function(error){
                        console.log(error);
                    });
//                    window.setTimeout(function() {
//                        map.centerOnPosition(5, 50);
//                        //window.setTimeout(function() {
//                        //    map.centerOnPosition(-112, 37);
//                        //},2000);
//                    },2000);
                    //});
                } catch (e) {
                    logger.errorFormat(e);
                }
            </script>
        </body>

</html>